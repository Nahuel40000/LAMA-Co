[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nAutoForm = Package['aldeed:autoform'].AutoForm;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"main.html\":[\"./template.main.js\",function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/main.html                                                                          //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\nmodule.exports = require(\"./template.main.js\");                                              // 1\n                                                                                             // 2\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"template.main.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/template.main.js                                                                   //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\n                                                                                             // 1\nTemplate.body.addContent((function() {                                                       // 2\n  var view = this;                                                                           // 3\n  return [ Spacebars.include(view.lookupTemplate(\"accueil\")), HTML.Raw(\"\\n  <p>----------------------------------</p>\\n  \"), Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n \\n  \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));                                       // 5\n  }, function() {                                                                            // 6\n    return [ \"\\n    \\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"recherche\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"affichage_annonce\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"create_account\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", HTML.H2(\"Insert:\"), \"\\n  \", HTML.Comment(\"{{> creer_annonce}}\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"insertAnnonceForm\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", HTML.H2(\"Update:\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"updateAnnonceForm\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"grouper_annonce\")), \"\\n\\n\" ];\n  }, function() {                                                                            // 8\n    return [ \"\\n    \", HTML.P(\"You must be logged-in to see this content.\"), \"\\n    \\n  \" ];\n  }) ];                                                                                      // 10\n}));                                                                                         // 11\nMeteor.startup(Template.body.renderToDocument);                                              // 12\n                                                                                             // 13\nTemplate.__checkName(\"accueil\");                                                             // 14\nTemplate[\"accueil\"] = new Template(\"Template.accueil\", (function() {                         // 15\n  var view = this;                                                                           // 16\n  return HTML.Raw(\"<h1>Bienvenue sur l'app LAMA</h1>\");                                      // 17\n}));                                                                                         // 18\n                                                                                             // 19\nTemplate.__checkName(\"register\");                                                            // 20\nTemplate[\"register\"] = new Template(\"Template.register\", (function() {                       // 21\n  var view = this;                                                                           // 22\n  return HTML.Raw('<h2>Register</h2>\\n    <form class=\"register\">\\n        <p>Email: <input type=\"email\" name=\"email\"></p>\\n        <p>Password: <input type=\"password\" name=\"password\"></p>\\n        <p><input type=\"submit\" value=\"Register\"></p>\\n    </form>');\n}));                                                                                         // 24\n                                                                                             // 25\nTemplate.__checkName(\"recherche\");                                                           // 26\nTemplate[\"recherche\"] = new Template(\"Template.recherche\", (function() {                     // 27\n  var view = this;                                                                           // 28\n  return HTML.Raw('<p>Rechercher un livre:</p>\\n  <form>\\n    Entrer l\\'ISBN, le titre du livre ou l\\'auteur: <input type=\"text\">\\n    <input type=\"button\" value=\"Rechercher\">\\n  </form>');\n}));                                                                                         // 30\n                                                                                             // 31\nTemplate.__checkName(\"affichage_annonce\");                                                   // 32\nTemplate[\"affichage_annonce\"] = new Template(\"Template.affichage_annonce\", (function() {     // 33\n  var view = this;                                                                           // 34\n  return HTML.Raw(\"<p>Annonces disponibles:</p>\\n  <ul>\\n    <li>\\n      Annonce 1\\n      <div>Prix</div> <br>\\n    </li>\\n    <li>\\n      Annonce 2\\n      <div>Prix</div> <br>\\n    </li>\\n    <li>\\n      Annonce 3\\n      <div>Prix</div> <br>\\n    </li>\\n  </ul>\");\n}));                                                                                         // 36\n                                                                                             // 37\nTemplate.__checkName(\"create_account\");                                                      // 38\nTemplate[\"create_account\"] = new Template(\"Template.create_account\", (function() {           // 39\n  var view = this;                                                                           // 40\n  return HTML.Raw('<form>\\n    Cr√©er un compte: <br>\\n      E-mail: <input type=\"text\" name=\"mail\"><br>\\n      Mot de passe: <input type=\"text\" name=\"password\"><br>\\n      <input type=\"button\" value=\"Log In\">\\n  </form>');\n}));                                                                                         // 42\n                                                                                             // 43\nTemplate.__checkName(\"insertAnnonceForm\");                                                   // 44\nTemplate[\"insertAnnonceForm\"] = new Template(\"Template.insertAnnonceForm\", (function() {     // 45\n  var view = this;                                                                           // 46\n  return Blaze._TemplateWith(function() {                                                    // 47\n    return {                                                                                 // 48\n      collection: Spacebars.call(\"AnnonceList\"),                                             // 49\n      id: Spacebars.call(\"insertAnnonceForm\"),                                               // 50\n      type: Spacebars.call(\"insert\")                                                         // 51\n    };                                                                                       // 52\n  }, function() {                                                                            // 53\n    return Spacebars.include(view.lookupTemplate(\"quickForm\"));                              // 54\n  });                                                                                        // 55\n}));                                                                                         // 56\n                                                                                             // 57\nTemplate.__checkName(\"updateAnnonceForm\");                                                   // 58\nTemplate[\"updateAnnonceForm\"] = new Template(\"Template.updateAnnonceForm\", (function() {     // 59\n  var view = this;                                                                           // 60\n  return Blaze._TemplateWith(function() {                                                    // 61\n    return {                                                                                 // 62\n      collection: Spacebars.call(\"AnnonceList\"),                                             // 63\n      id: Spacebars.call(\"updateAnnonceForm\"),                                               // 64\n      type: Spacebars.call(\"update\")                                                         // 65\n    };                                                                                       // 66\n  }, function() {                                                                            // 67\n    return Spacebars.include(view.lookupTemplate(\"quickForm\"));                              // 68\n  });                                                                                        // 69\n}));                                                                                         // 70\n                                                                                             // 71\nTemplate.__checkName(\"grouper_annonce\");                                                     // 72\nTemplate[\"grouper_annonce\"] = new Template(\"Template.grouper_annonce\", (function() {         // 73\n  var view = this;                                                                           // 74\n  return HTML.Raw('Grouper mes annonces: <br>\\n  <ul>\\n    <li>\\n      Annonce 1\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 2\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 3\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 4\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 5\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n  </ul>\\n  <form>\\n    <input type=\"text\" placeholder=\"prix de groupe\">\\n    <input type=\"button\" value=\"Grouper\">\\n  </form>');\n}));                                                                                         // 76\n                                                                                             // 77\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":[\"meteor/templating\",\"meteor/reactive-var\",\"meteor/mongo\",\"./main.html\",function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/main.js                                                                            //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\nvar _templating = require('meteor/templating');                                              // 1\n                                                                                             //\nvar _reactiveVar = require('meteor/reactive-var');                                           // 2\n                                                                                             //\nvar _mongo = require('meteor/mongo');                                                        // 3\n                                                                                             //\nrequire('./main.html');                                                                      // 4\n                                                                                             //\nAnnonceList = new _mongo.Mongo.Collection('annonce');                                        // 6\n                                                                                             //\n//package Collection2 pour la structure de la DB --> je vais encore le changer pour que √ßa corresponde √† ce qu'on avait dit (c'√©tait juste pour tester)\nAnnonceList.attachSchema(new SimpleSchema({                                                  // 9\n  title: {                                                                                   // 10\n    type: String,                                                                            // 11\n    label: \"Title\",                                                                          // 12\n    max: 200                                                                                 // 13\n  },                                                                                         //\n  author: {                                                                                  // 15\n    type: String,                                                                            // 16\n    label: \"Author\"                                                                          // 17\n  },                                                                                         //\n  copies: {                                                                                  // 19\n    type: Number,                                                                            // 20\n    label: \"Number of copies\",                                                               // 21\n    min: 0                                                                                   // 22\n  },                                                                                         //\n  etat: {                                                                                    // 24\n    type: String,                                                                            // 25\n    label: \"Etat du livre\"                                                                   // 26\n  },                                                                                         //\n  remarque: {                                                                                // 28\n    type: String,                                                                            // 29\n    label: \"Remarque\",                                                                       // 30\n    optional: true,                                                                          // 31\n    max: 1000                                                                                // 32\n  }                                                                                          //\n}));                                                                                         //\n                                                                                             //\n//Le code qui correspond au if(meteorisclient) de l'ancien fichier 1.2                       //\n_templating.Template.register.events({                                                       // 39\n  'submit form': function () {                                                               // 40\n    function submitForm(event) {                                                             // 40\n      event.preventDefault();                                                                // 41\n      var email = $('[name=email]').val();                                                   // 42\n      var password = $('[name=password]').val();                                             // 43\n      Accounts.createUser({                                                                  // 44\n        email: email,                                                                        // 45\n        password: password                                                                   // 46\n      });                                                                                    //\n    }                                                                                        //\n                                                                                             //\n    return submitForm;                                                                       //\n  }()                                                                                        //\n});                                                                                          //\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/template.main.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/main.html","/client/template.main.js","/client/main.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA,iG;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kG;;;;;;;;;;;AC5EA;;AACA;;AACA;;AACA;;AAEA,cAAc,IAAI,aAAM,UAAN,CAAiB,SAArB,CAAd;;;AAGA,YAAY,YAAZ,CAAyB,IAAI,YAAJ,CAAiB;AACxC,SAAO;AACL,UAAM,MAAN;AACA,WAAO,OAAP;AACA,SAAK,GAAL;GAHF;AAKA,UAAQ;AACN,UAAM,MAAN;AACA,WAAO,QAAP;GAFF;AAIA,UAAQ;AACN,UAAM,MAAN;AACA,WAAO,kBAAP;AACA,SAAK,CAAL;GAHF;AAKA,QAAM;AACJ,UAAM,MAAN;AACA,WAAO,eAAP;GAFF;AAIA,YAAU;AACR,UAAM,MAAN;AACA,WAAO,UAAP;AACA,cAAU,IAAV;AACA,SAAK,IAAL;GAJF;CAnBuB,CAAzB;;;AA8BE,qBAAS,QAAT,CAAkB,MAAlB,CAAyB;AACvB;AAAe,wBAAS,KAAT,EAAe;AAC1B,YAAM,cAAN,GAD0B;AAE1B,UAAI,QAAQ,EAAE,cAAF,EAAkB,GAAlB,EAAR,CAFsB;AAG1B,UAAI,WAAW,EAAE,iBAAF,EAAqB,GAArB,EAAX,CAHsB;AAI1B,eAAS,UAAT,CAAoB;AAChB,eAAO,KAAP;AACA,kBAAU,QAAV;OAFJ,EAJ0B;KAAf;;;KAAf;CADF,8F","file":"/app.js","sourcesContent":["module.exports = require(\"./template.main.js\");\n","\nTemplate.body.addContent((function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"accueil\")), HTML.Raw(\"\\n  <p>----------------------------------</p>\\n  \"), Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n \\n  \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n    \\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"recherche\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"affichage_annonce\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"create_account\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", HTML.H2(\"Insert:\"), \"\\n  \", HTML.Comment(\"{{> creer_annonce}}\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"insertAnnonceForm\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", HTML.H2(\"Update:\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"updateAnnonceForm\")), \"\\n  \", HTML.P(\"----------------------------------\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"grouper_annonce\")), \"\\n\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.P(\"You must be logged-in to see this content.\"), \"\\n    \\n  \" ];\n  }) ];\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"accueil\");\nTemplate[\"accueil\"] = new Template(\"Template.accueil\", (function() {\n  var view = this;\n  return HTML.Raw(\"<h1>Bienvenue sur l'app LAMA</h1>\");\n}));\n\nTemplate.__checkName(\"register\");\nTemplate[\"register\"] = new Template(\"Template.register\", (function() {\n  var view = this;\n  return HTML.Raw('<h2>Register</h2>\\n    <form class=\"register\">\\n        <p>Email: <input type=\"email\" name=\"email\"></p>\\n        <p>Password: <input type=\"password\" name=\"password\"></p>\\n        <p><input type=\"submit\" value=\"Register\"></p>\\n    </form>');\n}));\n\nTemplate.__checkName(\"recherche\");\nTemplate[\"recherche\"] = new Template(\"Template.recherche\", (function() {\n  var view = this;\n  return HTML.Raw('<p>Rechercher un livre:</p>\\n  <form>\\n    Entrer l\\'ISBN, le titre du livre ou l\\'auteur: <input type=\"text\">\\n    <input type=\"button\" value=\"Rechercher\">\\n  </form>');\n}));\n\nTemplate.__checkName(\"affichage_annonce\");\nTemplate[\"affichage_annonce\"] = new Template(\"Template.affichage_annonce\", (function() {\n  var view = this;\n  return HTML.Raw(\"<p>Annonces disponibles:</p>\\n  <ul>\\n    <li>\\n      Annonce 1\\n      <div>Prix</div> <br>\\n    </li>\\n    <li>\\n      Annonce 2\\n      <div>Prix</div> <br>\\n    </li>\\n    <li>\\n      Annonce 3\\n      <div>Prix</div> <br>\\n    </li>\\n  </ul>\");\n}));\n\nTemplate.__checkName(\"create_account\");\nTemplate[\"create_account\"] = new Template(\"Template.create_account\", (function() {\n  var view = this;\n  return HTML.Raw('<form>\\n    Cr√©er un compte: <br>\\n      E-mail: <input type=\"text\" name=\"mail\"><br>\\n      Mot de passe: <input type=\"text\" name=\"password\"><br>\\n      <input type=\"button\" value=\"Log In\">\\n  </form>');\n}));\n\nTemplate.__checkName(\"insertAnnonceForm\");\nTemplate[\"insertAnnonceForm\"] = new Template(\"Template.insertAnnonceForm\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"AnnonceList\"),\n      id: Spacebars.call(\"insertAnnonceForm\"),\n      type: Spacebars.call(\"insert\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n  });\n}));\n\nTemplate.__checkName(\"updateAnnonceForm\");\nTemplate[\"updateAnnonceForm\"] = new Template(\"Template.updateAnnonceForm\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"AnnonceList\"),\n      id: Spacebars.call(\"updateAnnonceForm\"),\n      type: Spacebars.call(\"update\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n  });\n}));\n\nTemplate.__checkName(\"grouper_annonce\");\nTemplate[\"grouper_annonce\"] = new Template(\"Template.grouper_annonce\", (function() {\n  var view = this;\n  return HTML.Raw('Grouper mes annonces: <br>\\n  <ul>\\n    <li>\\n      Annonce 1\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 2\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 3\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 4\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n    <li>\\n      Annonce 5\\n      <input type=\"checkbox\">\\n    </li>\\n    <br>\\n  </ul>\\n  <form>\\n    <input type=\"text\" placeholder=\"prix de groupe\">\\n    <input type=\"button\" value=\"Grouper\">\\n  </form>');\n}));\n","import { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\nimport { Mongo } from 'meteor/mongo';\nimport './main.html';\n\nAnnonceList = new Mongo.Collection('annonce');\n\n//package Collection2 pour la structure de la DB --> je vais encore le changer pour que √ßa corresponde √† ce qu'on avait dit (c'√©tait juste pour tester)\nAnnonceList.attachSchema(new SimpleSchema({\n  title: {\n    type: String,\n    label: \"Title\",\n    max: 200\n  },\n  author: {\n    type: String,\n    label: \"Author\"\n  },\n  copies: {\n    type: Number,\n    label: \"Number of copies\",\n    min: 0\n  },\n  etat: {\n    type: String,\n    label: \"Etat du livre\"\n  },\n  remarque: {\n    type: String,\n    label: \"Remarque\",\n    optional: true,\n    max: 1000\n  }\n}));\n\t\n\n\n//Le code qui correspond au if(meteorisclient) de l'ancien fichier 1.2\n  Template.register.events({\n    'submit form': function(event){\n        event.preventDefault();\n        var email = $('[name=email]').val();\n        var password = $('[name=password]').val();\n        Accounts.createUser({\n            email: email,\n            password: password\n        });\n    }\n  });"]}}]