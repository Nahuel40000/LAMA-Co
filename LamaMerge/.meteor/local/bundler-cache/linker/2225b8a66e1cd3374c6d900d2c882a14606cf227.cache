[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar Mongo = Package.mongo.Mongo;\nvar _ = Package.underscore._;\n\n(function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// packages/dburles_mongo-collection-instances/packages/dburles_mongo-collection-instances.js                       //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n(function () {                                                                                                      // 1\n                                                                                                                    // 2\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // 3\n//                                                                                                            //    // 4\n// packages/dburles:mongo-collection-instances/mongo-instances.js                                             //    // 5\n//                                                                                                            //    // 6\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // 7\n                                                                                                              //    // 8\nvar instances = [];                                                                                           // 1  // 9\n                                                                                                              // 2  // 10\nMeteor.addCollectionExtension(function (name, options) {                                                      // 3  // 11\n  instances.push({                                                                                            // 4  // 12\n    name: name,                                                                                               // 5  // 13\n    instance: this,                                                                                           // 6  // 14\n    options: options                                                                                          // 7  // 15\n  });                                                                                                         // 8  // 16\n});                                                                                                           // 9  // 17\n                                                                                                              // 10\nMongo.Collection.get = function(name, options) {                                                              // 11\n  options = options || {};                                                                                    // 12\n  var collection = _.find(instances, function(instance) {                                                     // 13\n    if (options.connection)                                                                                   // 14\n      return instance.name === name &&                                                                        // 15\n        instance.options && instance.options.connection._lastSessionId === options.connection._lastSessionId; // 16\n    return instance.name === name;                                                                            // 17\n  });                                                                                                         // 18\n                                                                                                              // 19\n  return collection && collection.instance;                                                                   // 20\n};                                                                                                            // 21\n                                                                                                              // 22\nMongo.Collection.getAll = function() {                                                                        // 23\n  return instances;                                                                                           // 24\n};                                                                                                            // 25\n                                                                                                              // 26\n// Meteor.Collection will lack ownProperties that are added back to Mongo.Collection                          // 27\nMeteor.Collection = Mongo.Collection;                                                                         // 28\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // 37\n                                                                                                                    // 38\n}).call(this);                                                                                                      // 39\n                                                                                                                    // 40\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage['dburles:mongo-collection-instances'] = {};\n\n})();\n","servePath":"/packages/dburles_mongo-collection-instances.js","sourceMap":{"version":3,"sources":["/packages/dburles_mongo-collection-instances/packages/dburles_mongo-collection-instances.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH","file":"/packages/dburles_mongo-collection-instances.js","sourcesContent":["(function () {\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// packages/dburles:mongo-collection-instances/mongo-instances.js                                             //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nvar instances = [];                                                                                           // 1\n                                                                                                              // 2\nMeteor.addCollectionExtension(function (name, options) {                                                      // 3\n  instances.push({                                                                                            // 4\n    name: name,                                                                                               // 5\n    instance: this,                                                                                           // 6\n    options: options                                                                                          // 7\n  });                                                                                                         // 8\n});                                                                                                           // 9\n                                                                                                              // 10\nMongo.Collection.get = function(name, options) {                                                              // 11\n  options = options || {};                                                                                    // 12\n  var collection = _.find(instances, function(instance) {                                                     // 13\n    if (options.connection)                                                                                   // 14\n      return instance.name === name &&                                                                        // 15\n        instance.options && instance.options.connection._lastSessionId === options.connection._lastSessionId; // 16\n    return instance.name === name;                                                                            // 17\n  });                                                                                                         // 18\n                                                                                                              // 19\n  return collection && collection.instance;                                                                   // 20\n};                                                                                                            // 21\n                                                                                                              // 22\nMongo.Collection.getAll = function() {                                                                        // 23\n  return instances;                                                                                           // 24\n};                                                                                                            // 25\n                                                                                                              // 26\n// Meteor.Collection will lack ownProperties that are added back to Mongo.Collection                          // 27\nMeteor.Collection = Mongo.Collection;                                                                         // 28\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}}]