{"version":3,"sources":["meteor://ðŸ’»app/packages/dburles_mongo-collection-instances/packages/dburles_mongo-collection-instances.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/packages/dburles_mongo-collection-instances.js","sourcesContent":["(function () {\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// packages/dburles:mongo-collection-instances/mongo-instances.js                                             //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nvar instances = [];                                                                                           // 1\n                                                                                                              // 2\nMeteor.addCollectionExtension(function (name, options) {                                                      // 3\n  instances.push({                                                                                            // 4\n    name: name,                                                                                               // 5\n    instance: this,                                                                                           // 6\n    options: options                                                                                          // 7\n  });                                                                                                         // 8\n});                                                                                                           // 9\n                                                                                                              // 10\nMongo.Collection.get = function(name, options) {                                                              // 11\n  options = options || {};                                                                                    // 12\n  var collection = _.find(instances, function(instance) {                                                     // 13\n    if (options.connection)                                                                                   // 14\n      return instance.name === name &&                                                                        // 15\n        instance.options && instance.options.connection._lastSessionId === options.connection._lastSessionId; // 16\n    return instance.name === name;                                                                            // 17\n  });                                                                                                         // 18\n                                                                                                              // 19\n  return collection && collection.instance;                                                                   // 20\n};                                                                                                            // 21\n                                                                                                              // 22\nMongo.Collection.getAll = function() {                                                                        // 23\n  return instances;                                                                                           // 24\n};                                                                                                            // 25\n                                                                                                              // 26\n// Meteor.Collection will lack ownProperties that are added back to Mongo.Collection                          // 27\nMeteor.Collection = Mongo.Collection;                                                                         // 28\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}